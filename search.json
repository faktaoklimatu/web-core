---
layout: null
---
[
  {%- assign page = site.pages | find:"search_id","glossary" %}
  {%- if page %}
    {
      "title" : "{{ page.title }}",
      "url" : "{{ page.url }}",
      "block" : "<div class='branded-card'></div><div class='card-img-overlay small-card-img-overlay'><h5>{{ page.search_type }}</h5></div>",
      {%- capture content %}
      {%- for item in site.data.glossary %} {{ item.name-short }} {{ item.name-long }} {{ item.description }}{% endfor %}
      {%- endcapture %}
      "content" : "{{ content | markdownify | normalize_whitespace | strip | strip_html | strip_newlines | replace: '"', '' }}"
    },
  {%- endif %}

  {%- assign page = site.pages | find:"search_id","resources" %}
  {%- if page %}
    {
      "title" : "{{ page.title }}",
      "url" : "{{ page.url }}",
      "block" : "<div class='branded-card'></div><div class='card-img-overlay small-card-img-overlay'><h5>{{ page.search_type }}</h5></div>",
      {%- capture content %}
        {%- for res in site.data.resources %}
          {%- for item in res[1].items %} {{ item.title }} {{ item.name-long }} {{ item.description-short }} {{ item.description-long }}{% endfor %}
        {%- endfor %}
      {%- endcapture %}
      "content" : "{{ content | markdownify | normalize_whitespace | strip | strip_html | strip_newlines | replace: '"', '' }}"
    },
  {%- endif %}

  {%- assign page = site.pages | find:"search_id","news" %}
  {%- if page %}
    {
      "title" : "{{ page.title }}",
      "url" : "{{ page.url }}",
      "block" : "<div class='branded-card'></div><div class='card-img-overlay small-card-img-overlay'><h5>{{ page.search_type }}</h5></div>",
      {%- capture content %}
        {%- for item in site.data.news %} {{ item.title }} {{ item.summary }}{%- endfor %}
      {%- endcapture %}
      "content" : "{{ content | markdownify | normalize_whitespace | strip | strip_html | strip_newlines | replace: '"', '' }}"
    },
  {%- endif %}

  {%- assign objects = site.infographics | concat: site.studies | concat: site.explainers | sort: "published" | reverse %}
  {%- for page in objects %}
    {
        "title" : "{{ page.title | strip_html }}",
        "url" : "{{ page.url }}",
        "slug" : "{{ page.slug }}",
        {%- capture html %}{% include preview-block-small.html item=page %}{%- endcapture %}
        "block" : {{ html | jsonify }},
        {%- assign perex = page.caption | append: " " | append: page.perex %}
        "perex" : "{{ perex }}",
        "content" : "{{ page.content | markdownify | normalize_whitespace | strip | strip_html | strip_newlines | replace: '"', '' | slice: 0, 3000 }}"
    }{%- if forloop.last %}{% else %},{% endif %}
  {%- endfor %}
]
